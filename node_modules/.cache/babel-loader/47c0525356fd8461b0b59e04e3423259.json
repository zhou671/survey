{"ast":null,"code":"const cameras = [];\nexport const registerCamera = camera => {\n  if (!camera) {\n    return;\n  }\n\n  cameras.push(camera);\n  camera.addEventListener('change', e => {\n    cameras.forEach(c => {\n      if (c !== camera) {\n        const p = e.target.object.position;\n        c.object.position.set(p.x, p.y, p.z);\n        const r = e.target.object.rotation;\n        c.object.rotation.set(r.x, r.y, r.z);\n        c.object.zoom = e.target.object.zoom;\n        c.target = e.target.target;\n        c.object.updateProjectionMatrix();\n      }\n    });\n  });\n};","map":{"version":3,"sources":["/Users/joezhou/Documents/survey/src/components/cameraSync.js"],"names":["cameras","registerCamera","camera","push","addEventListener","e","forEach","c","p","target","object","position","set","x","y","z","r","rotation","zoom","updateProjectionMatrix"],"mappings":"AAAA,MAAMA,OAAO,GAAG,EAAhB;AAEA,OAAO,MAAMC,cAAc,GAAIC,MAAD,IAAY;AACxC,MAAI,CAACA,MAAL,EAAa;AACX;AACD;;AACDF,EAAAA,OAAO,CAACG,IAAR,CAAaD,MAAb;AACAA,EAAAA,MAAM,CAACE,gBAAP,CAAwB,QAAxB,EAAmCC,CAAD,IAAO;AACvCL,IAAAA,OAAO,CAACM,OAAR,CAAiBC,CAAD,IAAO;AACrB,UAAIA,CAAC,KAAKL,MAAV,EAAkB;AAChB,cAAMM,CAAC,GAAGH,CAAC,CAACI,MAAF,CAASC,MAAT,CAAgBC,QAA1B;AACAJ,QAAAA,CAAC,CAACG,MAAF,CAASC,QAAT,CAAkBC,GAAlB,CAAsBJ,CAAC,CAACK,CAAxB,EAA2BL,CAAC,CAACM,CAA7B,EAAgCN,CAAC,CAACO,CAAlC;AACA,cAAMC,CAAC,GAAGX,CAAC,CAACI,MAAF,CAASC,MAAT,CAAgBO,QAA1B;AACAV,QAAAA,CAAC,CAACG,MAAF,CAASO,QAAT,CAAkBL,GAAlB,CAAsBI,CAAC,CAACH,CAAxB,EAA2BG,CAAC,CAACF,CAA7B,EAAgCE,CAAC,CAACD,CAAlC;AACAR,QAAAA,CAAC,CAACG,MAAF,CAASQ,IAAT,GAAgBb,CAAC,CAACI,MAAF,CAASC,MAAT,CAAgBQ,IAAhC;AACAX,QAAAA,CAAC,CAACE,MAAF,GAAWJ,CAAC,CAACI,MAAF,CAASA,MAApB;AACAF,QAAAA,CAAC,CAACG,MAAF,CAASS,sBAAT;AACD;AACF,KAVD;AAWD,GAZD;AAaD,CAlBM","sourcesContent":["const cameras = [];\n\nexport const registerCamera = (camera) => {\n  if (!camera) {\n    return;\n  }\n  cameras.push(camera);\n  camera.addEventListener('change', (e) => {\n    cameras.forEach((c) => {\n      if (c !== camera) {\n        const p = e.target.object.position;\n        c.object.position.set(p.x, p.y, p.z);\n        const r = e.target.object.rotation;\n        c.object.rotation.set(r.x, r.y, r.z);\n        c.object.zoom = e.target.object.zoom;\n        c.target = e.target.target;\n        c.object.updateProjectionMatrix();\n      }\n    });\n  });\n};"]},"metadata":{},"sourceType":"module"}